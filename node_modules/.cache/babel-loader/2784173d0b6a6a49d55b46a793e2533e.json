{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/jacobstephens/Desktop/Code/buildWeek/africanMarket/africanmarket/src/components/OwnerRegister.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport registerSchema from \"../registration/registerSchema\";\nimport * as yup from \"yup\";\nimport styled from 'styled-components';\nconst initialFormValues = {\n  username: \"\",\n  password: \"\",\n  store_name: \"\",\n  store_category: \"\",\n  roleId: 0\n};\nconst initialFormErrors = {\n  username: \"\",\n  password: \"\",\n  store_name: \"\",\n  store_category: \"\",\n  roleId: ''\n};\n\nconst OwnerRegister = () => {\n  _s();\n\n  const history = useHistory();\n  const [formValues, setFormValues] = useState(initialFormValues);\n  const [formErrors, setFormErrors] = useState(initialFormErrors);\n  const [disabled, setDisabled] = useState(true);\n  useEffect(() => {\n    console.log(\"The form has recieved a change thru input\");\n    registerSchema.isValid(formValues).then(valid => {\n      setDisabled(!valid);\n    }).catch(err => alert(err));\n  }, [formValues]);\n\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    yup.reach(registerSchema, name).validate(value).then(valid => {\n      setFormErrors({ ...formErrors,\n        [name]: \"\"\n      });\n    }).catch(err => {\n      setFormErrors({ ...formErrors,\n        [name]: err.errors[0]\n      });\n    });\n    setFormValues({ ...formValues,\n      [name]: value\n    });\n  };\n\n  const submit = e => {\n    e.preventDefault();\n    const submitValues = {\n      store_name: formValues.store_name,\n      username: formValues.username,\n      password: formValues.password,\n      store_category: \"\"\n    };\n\n    if (formValues.roleId === \"1\") {\n      axios.post(\"https://food-truck-trackr-api.herokuapp.com/api/user\", submitValues).then(res => {\n        console.log(res);\n        const loginValues = {\n          username: submitValues.username,\n          password: submitValues.password\n        };\n        console.log(loginValues);\n        axios.post(\"https://food-truck-trackr-api.herokuapp.com/api/auth/login\", loginValues).then(res => {\n          console.log(res);\n          localStorage.setItem(\"roleId\", res.data.type);\n          localStorage.setItem(\"token\", res.data.token);\n          history.push(\"/dashboard\");\n        }).catch(err => {\n          console.log(err);\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n\n    if (formValues.roleId === \"2\") {\n      axios.post(\"https://bw-african-marketplace-app.herokuapp.com/api/auth/register/owner\", submitValues).then(res => {\n        console.log(res);\n        const loginValues = {\n          username: submitValues.username,\n          password: submitValues.password\n        };\n        console.log(loginValues);\n        axios.post(\"https://bw-african-marketplace-app.herokuapp.com/api/auth/login\", loginValues).then(res => {\n          console.log(res);\n          localStorage.setItem(\"roleId\", res.data.type);\n          localStorage.setItem(\"token\", res.data.token);\n          history.push(\"/dashboard\");\n        }).catch(err => {\n          console.log(err);\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"usernameError\",\n        children: formErrors.roleId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"store_nameError\",\n        children: formErrors.store_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nameError\",\n        children: formErrors.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"passwordError\",\n        children: formErrors.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(HeadingContainer, {\n        children: /*#__PURE__*/_jsxDEV(Heading, {\n          children: \"SIGN UP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(TopInputSection, {\n        children: [/*#__PURE__*/_jsxDEV(H2, {\n          children: \"Vendor or Customer?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          id: \"roleId\",\n          name: \"roleId\",\n          value: formValues.roleId,\n          onChange: handleChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"---Choose One---\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"2\",\n            children: \"Owner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1\",\n            children: \"Customer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(H2, {\n          children: \"Username:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"Username\",\n          type: \"text\",\n          name: \"username\",\n          value: formValues.username,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(H2, {\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"Password\",\n          type: \"password\",\n          name: \"password\",\n          value: formValues.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          disabled: disabled,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(BottomInputSection, {\n        children: [/*#__PURE__*/_jsxDEV(OwnerOnly, {\n          children: [/*#__PURE__*/_jsxDEV(H2, {\n            children: \"Store Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Store Name\",\n            type: \"text\",\n            name: \"store_name\",\n            value: formValues.store_name,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(OwnerOnly, {\n          children: [/*#__PURE__*/_jsxDEV(H2, {\n            children: \"Category:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Category\",\n            type: \"text\",\n            name: \"store_category\",\n            value: formValues.store_category,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Social, {\n        children: [/*#__PURE__*/_jsxDEV(Twitter, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Facebook, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Instagram, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Dribbble, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Email, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 9\n  }, this);\n};\n\n_s(OwnerRegister, \"2jhdl8HCP4efWT6Kwntfun0MS3k=\", false, function () {\n  return [useHistory];\n});\n\n_c = OwnerRegister;\nlet OwnerOnly = styled.label`\n    width: 100px;\n    #hidden {\n      display: none;\n    }\n`;\n_c2 = OwnerOnly;\nexport default OwnerRegister;\n/* Styling Below */\n\nconst Form = styled.form`\ndisplay:flex;\nflex-direction:column;\n\n`;\n_c3 = Form;\nconst Heading = styled.h1`\nborder-top:2px solid white;\nborder-bottom:2px solid white;\nwidth:75%;\npadding:2%;\ncolor:white;\nfont-size:45px;\nmargin: 5rem auto;\n`;\n_c4 = Heading;\nconst H2 = styled.h2`\nborder-bottom:1px solid black;\nwidth:25%;\nmargin: 5rem auto 1.5rem auto;\n`;\n_c5 = H2;\nconst Select = styled.select`\npadding:1.5%;\nmargin: 0 auto;\nwidth:25%;\n`;\n_c6 = Select;\nconst Input = styled.input`\npadding:1.5% 0;\nmargin: 0 auto;\nwidth:25%;\n\n`;\n_c7 = Input;\nconst Button = styled.button`\npadding:1.5%;\nwidth:10%;\nmargin: 1.5rem auto 1.5rem auto;\nbackground-color:#DE6852;\ncolor:white;\nborder:none;\nborder-radius:4px;\n`;\n_c8 = Button;\nconst TopInputSection = styled.div`\nbackground-color:#55AFA5;\npadding-bottom:6%;\ndisplay:flex;\nflex-direction:column;\n`;\n_c9 = TopInputSection;\nconst HeadingContainer = styled.div`\n background:url('https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fweknowyourdreams.com%2Fimages%2Ffruit%2Ffruit-08.jpg&f=1&nofb=1') no-repeat center;\n    width:auto;\n    padding:15%;\n    background-size:cover;\n`;\n_c10 = HeadingContainer;\nconst BottomInputSection = styled.div`\nbackground-color: #51528F;\npadding-bottom:10%;\n\n`;\n_c11 = BottomInputSection;\nconst Social = styled.div`\n    background-color:#2c333a;\n    padding:6rem;\n    display:flex;\n    justify-content:center;\n    \n`;\n_c12 = Social;\nconst Twitter = styled.button`\n    border:white;\n    padding:1rem;\n    margin:5rem;\n    background:url('https://img.icons8.com/ios/72/twitter--v1.png') center;\n    background-size:2rem;\n`;\n_c13 = Twitter;\nconst Facebook = styled.button`\n    border:white;\n    padding:1rem;\n    margin:5rem;\n    background:url('https://img.icons8.com/ios/72/facebook-new.png') center;\n    background-size:2rem;\n`;\n_c14 = Facebook;\nconst Instagram = styled.button`\n    border:white;\n    padding:1rem;\n    margin:5rem;\n    background:url('https://img.icons8.com/ios/72/instagram-new--v1.png') center;\n    background-size:2rem;\n`;\n_c15 = Instagram;\nconst Dribbble = styled.button`\n    border:white;\n    padding:1rem;\n    margin:5rem;\n    background:url('https://img.icons8.com/ios/72/dribbble-circled--v1.png') center;\n    background-size:2rem;\n    \n`;\n_c16 = Dribbble;\nconst Email = styled.button`\n    border:white;\n    padding:1rem;\n    margin:5rem;\n    background:url('https://img.icons8.com/ios/72/email.png') center;\n    background-size:2rem;\n`;\n_c17 = Email;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17;\n\n$RefreshReg$(_c, \"OwnerRegister\");\n$RefreshReg$(_c2, \"OwnerOnly\");\n$RefreshReg$(_c3, \"Form\");\n$RefreshReg$(_c4, \"Heading\");\n$RefreshReg$(_c5, \"H2\");\n$RefreshReg$(_c6, \"Select\");\n$RefreshReg$(_c7, \"Input\");\n$RefreshReg$(_c8, \"Button\");\n$RefreshReg$(_c9, \"TopInputSection\");\n$RefreshReg$(_c10, \"HeadingContainer\");\n$RefreshReg$(_c11, \"BottomInputSection\");\n$RefreshReg$(_c12, \"Social\");\n$RefreshReg$(_c13, \"Twitter\");\n$RefreshReg$(_c14, \"Facebook\");\n$RefreshReg$(_c15, \"Instagram\");\n$RefreshReg$(_c16, \"Dribbble\");\n$RefreshReg$(_c17, \"Email\");","map":{"version":3,"sources":["/Users/jacobstephens/Desktop/Code/buildWeek/africanMarket/africanmarket/src/components/OwnerRegister.js"],"names":["React","useState","useEffect","axios","useHistory","registerSchema","yup","styled","initialFormValues","username","password","store_name","store_category","roleId","initialFormErrors","OwnerRegister","history","formValues","setFormValues","formErrors","setFormErrors","disabled","setDisabled","console","log","isValid","then","valid","catch","err","alert","handleChange","e","name","target","value","reach","validate","errors","submit","preventDefault","submitValues","post","res","loginValues","localStorage","setItem","data","type","token","push","OwnerOnly","label","Form","form","Heading","h1","H2","h2","Select","select","Input","input","Button","button","TopInputSection","div","HeadingContainer","BottomInputSection","Social","Twitter","Facebook","Instagram","Dribbble","Email"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport registerSchema from \"../registration/registerSchema\";\nimport * as yup from \"yup\";\nimport styled from 'styled-components';\n\nconst initialFormValues = {\n    username: \"\",\n    password: \"\",\n    store_name: \"\",\n    store_category: \"\",\n    roleId: 0\n};\nconst initialFormErrors = {\n    username: \"\",\n    password: \"\",\n    store_name: \"\",\n    store_category: \"\",\n    roleId: ''\n};\n\nconst OwnerRegister = () => {\n  const history = useHistory();\n  const [formValues, setFormValues] = useState(initialFormValues);\n  const [formErrors, setFormErrors] = useState(initialFormErrors);\n  const [disabled, setDisabled] = useState(true);\n\n  useEffect(() => {\n    console.log(\"The form has recieved a change thru input\");\n    registerSchema\n      .isValid(formValues)\n      .then((valid) => {\n        setDisabled(!valid);\n      })\n      .catch((err) => alert(err));\n  }, [formValues]);\n\n  const handleChange = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n\n    yup\n      .reach(registerSchema, name)\n      .validate(value)\n      .then((valid) => {\n        setFormErrors({\n          ...formErrors,\n          [name]: \"\",\n        });\n      })\n      .catch((err) => {\n        setFormErrors({\n          ...formErrors,\n          [name]: err.errors[0],\n        });\n      });\n    setFormValues({\n      ...formValues,\n      [name]: value,\n    });\n  };\n\n  const submit = (e) => {\n    e.preventDefault();\n    const submitValues = {\n      store_name: formValues.store_name,\n      username: formValues.username,\n      password: formValues.password,\n      store_category: \"\",\n    };\n    \n    if (formValues.roleId === \"1\") {\n      axios\n        .post(\n          \"https://food-truck-trackr-api.herokuapp.com/api/user\",\n          submitValues\n        )\n        .then((res) => {\n          console.log(res);\n          const loginValues = {\n            username: submitValues.username,\n            password: submitValues.password,\n          };\n          console.log(loginValues);\n          axios\n            .post(\n              \"https://food-truck-trackr-api.herokuapp.com/api/auth/login\",\n              loginValues\n            )\n            .then((res) => {\n              console.log(res);\n              localStorage.setItem(\"roleId\", res.data.type);\n              localStorage.setItem(\"token\", res.data.token);\n              history.push(\"/dashboard\");\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    if (formValues.roleId === \"2\") {\n      axios\n        .post(\n          \"https://bw-african-marketplace-app.herokuapp.com/api/auth/register/owner\",\n          submitValues\n        )\n        .then((res) => {\n          console.log(res);\n          const loginValues = {\n            username: submitValues.username,\n            password: submitValues.password,\n          };\n          console.log(loginValues);\n          axios\n            .post(\n              \"https://bw-african-marketplace-app.herokuapp.com/api/auth/login\",\n              loginValues\n            )\n            .then((res) => {\n              console.log(res);\n              localStorage.setItem(\"roleId\", res.data.type);\n              localStorage.setItem(\"token\", res.data.token);\n              history.push(\"/dashboard\");\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n\n\n  return (\n      \n        <div>\n\n            <div>\n                <div className=\"usernameError\">{formErrors.roleId}</div>\n                <div className=\"store_nameError\">{formErrors.store_name}</div>\n                <div className=\"nameError\">{formErrors.username}</div>\n                <div className=\"passwordError\">{formErrors.password}</div>\n            </div>\n\n            <Form onSubmit={submit}>\n\n              <HeadingContainer>\n                <Heading>SIGN UP</Heading>\n              </HeadingContainer>\n             \n                <TopInputSection>\n\n                      <H2>Vendor or Customer?</H2>\n\n                  <Select\n                      id=\"roleId\"\n                      name=\"roleId\"\n                      value={formValues.roleId}\n                      onChange={handleChange}\n                      >\n\n                      <option value=\"\">---Choose One---</option>\n                      <option value=\"2\">Owner</option>\n                      <option value=\"1\">Customer</option>\n                  </Select>\n\n                      <H2>Username:</H2>  \n\n                      <Input\n                      placeholder=\"Username\"\n                      type=\"text\"\n                      name=\"username\"\n                      value={formValues.username}\n                      onChange={handleChange}\n                      />\n                    \n                      <H2>Password:</H2>\n                    \n                      <Input\n                      placeholder=\"Password\"\n                      type=\"password\"\n                      name=\"password\"\n                      value={formValues.password}\n                      onChange={handleChange}\n                      />\n\n                  {/* {formValues.roleId ? 2 : <OwnerOnly id='hidden' />} */}\n\n                  <Button disabled={disabled}>Submit</Button>\n\n                </TopInputSection>\n\n              <BottomInputSection>\n\n                <OwnerOnly>\n                            <H2>Store Name:</H2>\n                            <Input\n                            placeholder=\"Store Name\"\n                            type=\"text\"\n                            name=\"store_name\"\n                            value={formValues.store_name}\n                            onChange={handleChange}\n                            />\n                </OwnerOnly>\n\n                <OwnerOnly>\n                        <H2>Category:</H2>\n                            <Input\n                            placeholder=\"Category\"\n                            type=\"text\"\n                            name=\"store_category\"\n                            value={formValues.store_category}\n                            onChange={handleChange}\n                            />\n                </OwnerOnly>\n                \n              </BottomInputSection>\n\n              <Social>\n                <Twitter/>\n                <Facebook/>\n                <Instagram/>\n                <Dribbble/>\n                <Email/>\n              </Social>\n\n            </Form>\n\n        </div>\n\n  );\n\n};\nlet OwnerOnly = styled.label`\n    width: 100px;\n    #hidden {\n      display: none;\n    }\n`\nexport default OwnerRegister;\n\n\n/* Styling Below */\n\nconst Form = styled.form`\ndisplay:flex;\nflex-direction:column;\n\n`\n\nconst Heading = styled.h1`\nborder-top:2px solid white;\nborder-bottom:2px solid white;\nwidth:75%;\npadding:2%;\ncolor:white;\nfont-size:45px;\nmargin: 5rem auto;\n`\n\nconst H2 = styled.h2`\nborder-bottom:1px solid black;\nwidth:25%;\nmargin: 5rem auto 1.5rem auto;\n`\n\nconst Select = styled.select`\npadding:1.5%;\nmargin: 0 auto;\nwidth:25%;\n`\n\nconst Input = styled.input`\npadding:1.5% 0;\nmargin: 0 auto;\nwidth:25%;\n\n`\n\nconst Button = styled.button `\npadding:1.5%;\nwidth:10%;\nmargin: 1.5rem auto 1.5rem auto;\nbackground-color:#DE6852;\ncolor:white;\nborder:none;\nborder-radius:4px;\n`\n\n\nconst TopInputSection = styled.div`\nbackground-color:#55AFA5;\npadding-bottom:6%;\ndisplay:flex;\nflex-direction:column;\n`\nconst HeadingContainer = styled.div`\n background:url('https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fweknowyourdreams.com%2Fimages%2Ffruit%2Ffruit-08.jpg&f=1&nofb=1') no-repeat center;\n    width:auto;\n    padding:15%;\n    background-size:cover;\n`\n\nconst BottomInputSection= styled.div`\nbackground-color: #51528F;\npadding-bottom:10%;\n\n`\n\nconst Social = styled.div`\n    background-color:#2c333a;\n    padding:6rem;\n    display:flex;\n    justify-content:center;\n    \n`\n    \nconst Twitter = styled.button`\n    border:white;\n    padding:1rem;\n    margin:5rem;\n    background:url('https://img.icons8.com/ios/72/twitter--v1.png') center;\n    background-size:2rem;\n`\n    \nconst Facebook = styled.button`\n    border:white;\n    padding:1rem;\n    margin:5rem;\n    background:url('https://img.icons8.com/ios/72/facebook-new.png') center;\n    background-size:2rem;\n`\n    \nconst Instagram = styled.button`\n    border:white;\n    padding:1rem;\n    margin:5rem;\n    background:url('https://img.icons8.com/ios/72/instagram-new--v1.png') center;\n    background-size:2rem;\n`\n    \nconst Dribbble = styled.button`\n    border:white;\n    padding:1rem;\n    margin:5rem;\n    background:url('https://img.icons8.com/ios/72/dribbble-circled--v1.png') center;\n    background-size:2rem;\n    \n`\n    \n    \nconst Email = styled.button`\n    border:white;\n    padding:1rem;\n    margin:5rem;\n    background:url('https://img.icons8.com/ios/72/email.png') center;\n    background-size:2rem;\n`"]},"metadata":{},"sourceType":"module"}